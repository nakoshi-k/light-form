{"version":3,"sources":["webpack://LightForm/webpack/bootstrap","webpack://LightForm/./src/fomr-element-decision.ts","webpack://LightForm/./src/index.ts","webpack://LightForm/./src/to-form.ts","webpack://LightForm/./src/get-constructor-name.ts","webpack://LightForm/./src/to-object.ts","webpack://LightForm/./src/get-fields.ts","webpack://LightForm/./src/file-input-support.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__importDefault","this","mod","default","get_constructor_name_1","isRadioNodeList","formChild","isCheckbox","child","type","isSelect","isFile","__importStar","result","k","to_form_1","to_object_1","file_input_support_1","toForm","toObject","bracketed","doted","fileInputSupport","fomr_element_decision_1","parent","toFlat","values","wrap","flat","keys","reduce","Array","isArray","push","map","v","bindForm","form","flatData","forEach","row","radioNodeList","index","item","setValueRadioNode","checked","select","multiple","slice","querySelectorAll","option","selected","indexOf","setValueSelect","data","instance","constructor","toString","split","get_fields_1","getValue","field","length","firstElement","filter","e","getRadioNodeListValue","opt","getSelectValue","dataset","test","file","getFileValue","parseInt","fields","getFields","hierarchyFields","floor","swap","fieldsHierarchy","isNaN","replace","toHierarchyData","elements","hasAttribute","getAttribute","ar","getFile","blob","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","document","element","fileRead","files","then","all","addEventListener"],"mappings":"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","file":"light-form.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_constructor_name_1 = __importDefault(require(\"./get-constructor-name\"));\nexports.isRadioNodeList = (formChild) => get_constructor_name_1.default(formChild) === \"RadioNodeList\";\nexports.isCheckbox = (child) => (get_constructor_name_1.default(child) === \"HTMLInputElement\" && child.type === \"checkbox\");\nexports.isSelect = (child) => get_constructor_name_1.default(child) === \"HTMLSelectElement\";\nexports.isFile = (child) => (get_constructor_name_1.default(child) === \"HTMLInputElement\" && child.type === \"file\");\n","\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst to_form_1 = __importStar(require(\"./to-form\"));\nconst to_object_1 = __importDefault(require(\"./to-object\"));\nconst file_input_support_1 = __importDefault(require(\"./file-input-support\"));\nexports.default = {\n    toForm: to_form_1.default,\n    toObject: to_object_1.default,\n    bracketed: to_form_1.bracketed,\n    doted: to_form_1.doted,\n    fileInputSupport: file_input_support_1.default\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fomr_element_decision_1 = require(\"./fomr-element-decision\");\nexports.bracketed = (parent, key) => (parent === \"\") ? key : `${parent}[${key}]`;\nexports.doted = (parent, key) => (parent === \"\") ? key : `${parent}.${key}`;\nexports.toFlat = (values, wrap = exports.bracketed, parent = \"\", flat = []) => {\n    return Object.keys(values).reduce((flat, key) => {\n        const value = values[key] || \"\";\n        if (Array.isArray(value)) {\n            if (value[0] !== void 0 && typeof value[0] !== \"object\") {\n                flat.push([wrap(parent, key), value.map(v => `${v}`)]);\n                return flat;\n            }\n        }\n        if (typeof value === \"object\") {\n            return exports.toFlat(values[key], wrap, wrap(parent, key), flat);\n        }\n        flat.push([wrap(parent, key), `${values[key]}`]);\n        return flat;\n    }, flat);\n};\nconst setValueRadioNode = (radioNodeList, value) => {\n    if (!Array.isArray(value)) {\n        radioNodeList.value = value;\n        return;\n    }\n    value.forEach((v, index) => {\n        if (radioNodeList.item(index).type === \"file\") {\n            return;\n        }\n        radioNodeList.item(index).value = v;\n    });\n};\nconst setValueSelect = (select, value) => {\n    if (!select.multiple) {\n        select.value = value;\n    }\n    ;\n    [].slice.call(select.querySelectorAll(\"option\")).forEach((option) => {\n        option.selected = (value.indexOf(option.value) > -1) ? true : false;\n    });\n};\nconst bindForm = (form, flatData) => {\n    flatData.forEach(row => {\n        const key = row[0];\n        const value = row[1];\n        const child = form[key] || form[key + \"[]\"];\n        if (child === void 0)\n            return;\n        if (fomr_element_decision_1.isRadioNodeList(child)) {\n            setValueRadioNode(child, value);\n            return;\n        }\n        if (fomr_element_decision_1.isSelect(child)) {\n            setValueSelect(child, value);\n            return;\n        }\n        if (fomr_element_decision_1.isCheckbox(child)) {\n            if (value === child.value) {\n                child.checked = true;\n                return;\n            }\n            child.checked = false;\n            return;\n        }\n        if (fomr_element_decision_1.isFile(child)) {\n            return;\n        }\n        child.value = `${value}`;\n    });\n    return form;\n};\nexports.default = (form, data, wrap) => {\n    return bindForm(form, exports.toFlat(data, wrap));\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getConstructorName = instance => (instance.constructor) ? instance.constructor.name : Object.prototype.toString.call(instance).split(/\\[\\] /)[1];\nexports.default = getConstructorName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_fields_1 = require(\"./get-fields\");\nconst fomr_element_decision_1 = require(\"./fomr-element-decision\");\nconst getSelectValue = (select) => {\n    if (!select.multiple) {\n        return select.value;\n    }\n    const selected = select.querySelectorAll(\"option:checked\");\n    return [].slice.call(selected).map((opt) => opt.value);\n};\nconst getRadioNodeListValue = (radioNodeList) => {\n    if (radioNodeList.length === 0)\n        return \"\";\n    const firstElement = radioNodeList[0];\n    if (firstElement.type === \"checkbox\") {\n        const c = [].slice.call(radioNodeList)\n            .filter((e) => e.checked)\n            .map((e) => e.value);\n        return c;\n    }\n    if ([\"checkbox\", \"radio\"].indexOf(firstElement.type) === -1) {\n        return [].slice.call(radioNodeList).map((e) => e.value);\n    }\n    return radioNodeList.value;\n};\nconst getFileValue = (child) => {\n    if (!child.multiple) {\n        return child.dataset.file || \"\";\n    }\n    return Object.keys(child.dataset)\n        .filter(key => /^file[0-9]*$/.test(key))\n        .map(key => child.dataset[key]);\n};\nconst getValue = (field, child) => {\n    if (fomr_element_decision_1.isRadioNodeList(child))\n        return getRadioNodeListValue(child);\n    if (fomr_element_decision_1.isSelect(child))\n        return getSelectValue(child);\n    if (fomr_element_decision_1.isFile(child)) {\n        return getFileValue(child);\n    }\n    if (fomr_element_decision_1.isCheckbox(child)) {\n        if (child.checked) {\n            return child.value;\n        }\n        return \"\";\n    }\n    if (child.type === \"number\") {\n        return parseInt(child.value);\n    }\n    return child.value;\n};\nconst toHierarchyData = (fields, values, split) => {\n    const hierarchyFields = fields.map(field => field.split(split).filter(floor => floor !== \"\"));\n    const data = values.reduce((data, value, index) => {\n        let swap = data;\n        let h = hierarchyFields[index];\n        h.forEach((floor, index, fieldsHierarchy) => {\n            if (!fieldsHierarchy[index + 1]) {\n                swap[floor.replace(\"[]\", \"\")] = value;\n                return;\n            }\n            if (!swap[floor]) {\n                swap[floor] = {};\n                if (!isNaN(parseInt(fieldsHierarchy[index + 1]))) {\n                    swap[floor] = [];\n                }\n            }\n            swap = swap[floor];\n        });\n        return data;\n    }, {});\n    return data;\n};\nexports.default = (form, split = /[\\[\\]]+/) => {\n    const fields = get_fields_1.getFields(form);\n    const values = fields.map(field => getValue(field, form[field]));\n    return toHierarchyData(fields, values, split);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFields = (form) => [].slice.call(form.elements)\n    .filter((e) => e.hasAttribute(\"name\"))\n    .map((e) => e.getAttribute(\"name\") || \"\")\n    .filter((s, index, ar) => index === ar.indexOf(s));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst getFile = (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n    reader.onload = () => {\n        resolve(reader.result);\n    };\n    reader.onerror = () => {\n        reject();\n    };\n});\nconst fileSupport = (elements = document.querySelectorAll(`input[type=\"file\"]`)) => [].slice.call(elements)\n    .forEach((element) => {\n    const fileRead = () => {\n        if (element.files === null)\n            return;\n        if (element.files.length === 0)\n            return;\n        if (!element.multiple) {\n            getFile(element.files[0])\n                .then(file => {\n                element.dataset.file = `${file}`;\n            });\n            return;\n        }\n        const multiple = [].slice.call(element.files).map(blob => getFile(blob));\n        Promise.all(multiple).then(files => {\n            files.forEach((file, index) => {\n                element.dataset[`file${index}`] = `${file}`;\n            });\n        });\n    };\n    fileRead();\n    element.addEventListener(\"change\", fileRead);\n});\nexports.default = fileSupport;\n"],"sourceRoot":""}